# 运营弹窗





## 需求



### web

+ 点击按钮跳转链接是本页面直接操作

+ 不是本页面, 新打开窗口, 并且新页面不再弹

  > 比如在提醒页弹窗了, 点击按钮要打开图表页的创建提醒, 则在新标签页打开图表页, 直接执行相关操作, 不再次弹窗





### desktop







## 方案



### web

+ 每个页面首次加载都先判断 `url` 参数有没有.`action`,
  + 如果有, 直接执行 
  + 否则请求服务器, 有弹窗直接弹
+ 每个页面都订阅相关 `tioic`
+ 如果按钮跳转链接是本页面, 直接执行相关操作
+ 如果跳转链接不是本页面, 在新窗口打开链接并添加参数 `action`, 处理后删除掉 `action` 参数



### desktop

+ 如果是本页面操作, 直接执行
+ 需要跳转其他页面, 桌面端跳转路由, 在 `localstorage` 或者 `store` 里添加执行的相关操作, 路由跳转后执行并清空









| 姓名   | 年龄 |
| ------ | ---- |
| 张三   | 28   |
| 李四   | 23   |
| 王五   | 33   |
| 赵六   | 34   |
| 童十三 | 18   |
|        |      |


